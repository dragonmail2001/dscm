make install -f makefile

ZCCKJ-API
=========================
本项目用于为onesearch提供API支持。

## 技术选型
### Web框架
express

### 日志
- 访问日志: 直接用nginx的accesslog即可
- 业务日志: ali-logger

### 模版
待定。

### 数据层
- HSF
- tair


### 测试
- 测试框架：mocha
- 断言库：expect.js
- 覆盖率：istanbul

### 集群
- cluster

### 环境变量
- 日常/开发 NODE_ENV=dev
- 预发/线上 NODE_ENV=production

## 目录结构
```
.
├── Makefile // 项目构建文件
├── README.md
├── access
├── app.js // 应用
├── build.sh // 构建脚本
├── config // 配置目录
├── controllers // 控制器
├── coverage // 覆盖率目录
├── dispatch.js // 多进程启动入口
├── lib // 公共目录
├── node_modules // 依赖包
├── package.json
├── proxy // 数据代理层
├── routes.js // 路由
├── test // 测试
└── worker.js // 单进程启动入口

```

## 启动
```
$ node worker.js // 单进程
$ node dispatch.js // 多进程
```

## 部署
TODO




这个也是网上搜的，亲自试过，非常好用！

镜像使用方法（三种办法任意一种都能解决问题，建议使用第三种，将配置写死，下次用的时候配置还在）:

1.通过config命令

npm config set registry https://registry.npm.taobao.org 
npm info underscore （如果上面配置正确这个命令会有字符串response）
2.命令行指定

npm --registry https://registry.npm.taobao.org info underscore 
3.编辑 ~/.npmrc 加入下面内容

registry = https://registry.npm.taobao.org
搜索镜像: https://npm.taobao.org

建立或使用镜像,参考: https://github.com/cnpm/cnpmjs.org

/usr/local/lib/node_modules

export NODE_PATH=$NODE_PATH:/usr/local/lib/node_modules

输入：vi ~/.bash_profile




linux:
source /etc/profile

sudo npm install log4js@0.6.26 -g
